<!doctype html>
<html class="no-js" lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C# .net wrapper - Worldpay Within</title>
    <link rel="stylesheet" href="css/foundation.css">
    <link rel="stylesheet" href="css/app.css">
    <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">    
  </head>
  <body>
    <div class="row">
      <div class="large-12 columns">
        <img style="padding-top: 5px; padding-bottom: 5px;" src="images/worldpaylogosmall.png" alt="Worldpay Logo"/>
        <div style="padding-left: 5px; color: white; background-color: red;"><a class="whiteLink" href="index.html"><h1 style="font-size: 1.8em !important;">Worldpay Within Documentation</h1></a></div>
      </div>
    </div>

    <div class="row">
      <div class="large-12 columns">
        <div class="callout">
          

          <!--
                <form>
                  <div class="row">
                    <div class="large-12 columns">
                      <label>Search for a topic or question</label>
                    </div>
                    <div class="large-12 columns">
                      <input type="text" placeholder="Search for a topic or question" />
                    </div>
                  </div>
                </form>
-->

              <div class="row">
            
                    <div class="large-12 columns">
<!-- Insert page content below -->




<h1>.NET Worldpay Within wrapper</h1>

<h2>Introduction</h2>

<p>The .NET Worldpay Within wrapper provides a convenient entry point for application developers who wish to create applications using the Worldpay Within toolkit.</p>

<p>Currently, this is built against .NET Framework 4.5.2, however I intend to make this available for use in portable DLLs (to work on Android, iOS) as well as .NET Core, so it can be easily used from Linux and Mac-based operating systems as well.</p>

<h2>Prerequisites</h2>

<p>This has been created and built using Microsoft Visual Studio 2015 Community Edition.</p>

<h2>Building</h2>

<p>Skip this if you just want to use the pre-built DLLs for using Worldpay Within.</p>

<p>Use nuget to acquire the 0.9.3 Apache Thrift libraries using the following command from the nugen package console:</p>

<p><code>Install-Package ApacheThrift -Version 0.9.3</code></p>

<p>If you don't specify the version, as of 16/6/15 you'll get an old version which will result in missing type errors (e.g. <code>'TProtocol' does not contain a definition for 'IncrementRecursionDepth'</code>).</p>

<h3>Worldpay.Within.Rpc</h3>

<p>This project contains nothing but the generated RPC wrappers for Thrift.</p>

<p>You can rebuild this code by running:</p>

<p><code>thrift-0.9.3.exe -r -out %GOPATH%\src\innovation.worldpay.com\worldpay-within-sdk\wrappers\dotnet\Worldpay.Within\Worldpay.Within.Rpc --gen csharp:nullable,union %GOPATH%\src\innovation.worldpay.com\worldpay-within-sdk\rpc\wpwithin.thrift</code></p>

<blockquote>
<p>The -r is there just for safety, in case subdirectories are used in future for storing dependent Thrift IDL files.</p>
</blockquote>

<p>Note, the full set of options for the Thrift compiler are as follows (we might want to use this later, holding off for now in the name of simplicity):</p>

<pre><code>async:           Adds Async support using Task.Run.
asyncctp:        Adds Async CTP support using TaskEx.Run.
wcf:             Adds bindings for WCF to generated classes.
serial:          Add serialization support to generated classes.
nullable:        Use nullable types for properties.
hashcode:        Generate a hashcode and equals implementation for classes.
union:           Use new union typing, which includes a static read function for union types.
</code></pre>

<p>Be sure to refresh the project source tree in Visual Studio to ensure that any newly generated files are included in the project.  If you fail to do this, expect compile errors for missing types to be thrown.</p>

<h2>Using</h2>

<p>To use Worldpay Within, add the following DLLs to your project path:</p>

<ol>
<li><code>Worldpay.Within.dll</code> - this contains the wrapper code and Apache Thrift generated C# wrapper code. </li>
<li><code>Thrift.dll</code> - Apache Thrift library. </li>
<li><code>Logging Framework</code> - whatever logging framework we're going to use.</li>
</ol>






<!-- Insert page content above -->
                    </div>                       
              </div>
            </div>
        </div>
     </div>






    <script src="js/vendor/jquery.js"></script>
    <script src="js/vendor/what-input.js"></script>
    <script src="js/vendor/foundation.js"></script>
    <script src="js/app.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-91392512-1', 'auto');
  ga('send', 'pageview');

</script>
  </body>
</html>
