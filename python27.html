<!doctype html>
<html class="no-js" lang="en" dir="ltr">
   <head>
      <meta charset="utf-8">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Python 2.7 wrapper - Worldpay Within</title>
      <link rel="stylesheet" href="css/foundation.css">
      <link rel="stylesheet" href="css/app.css">
      <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
   </head>
   <body>
      <div class="row">
         <div class="large-12 columns">
            <img style="padding-top: 5px; padding-bottom: 5px;" src="images/worldpaylogosmall.png" alt="Worldpay Logo"/>
            <div style="padding-left: 5px; color: white; background-color: red;">
               <a class="whiteLink" href="index.html">
                  <h1 style="font-size: 1.8em !important;">Worldpay Within Documentation</h1>
               </a>
            </div>
         </div>
      </div>
      <div class="row">
         <div class="large-12 columns">
            <div class="callout">
               <!--
                  <form>
                    <div class="row">
                      <div class="large-12 columns">
                        <label>Search for a topic or question</label>
                      </div>
                      <div class="large-12 columns">
                        <input type="text" placeholder="Search for a topic or question" />
                      </div>
                    </div>
                  </form>
                  -->
               <div class="row">
                  <div class="large-12 columns">
                     <!-- Insert page content below -->
                     <h2>Python Software Development Kit (SDK)</h2>
                     <p>The Python implementation for the Worldpay Within IoT payment SDK. This SDK enables smart devices to discover each other, negotiate a price for services, make a payment (through Worldpay) for services, and then consume services via a 'trusted trigger'. For more information see our documentation website here: <a href="http://www.worldpaywithin.com">Worldpay Within</a>.</p>
                     <h3>Prerequisites</h3>
                     <ul>
                        <li>Before you get started, you should have Python installed on your system. We've built the SDK to work with version 2.7 and 3.</li>
                        <li>You should create an account with <a href="https://online.worldpay.com">Worldpay Online</a> so that you're able to generate your own test API key. You'll replace the Worldpay test keys with your own in the SDK.</li>
                     </ul>
                     <!--<div style="text-align: center;">
                        <figure>
                           <img style="padding-top: 25px;" src="images/architecture/worldpayWithinFig1.png" alt="The Worldpay Within puzzle piece"/>
                           <figcaption>The Worldpay Within puzzle piece</figcaption>
                        </figure>
                     </div>-->
                     <!--<h2>Get started - EXPERIMENTAL !</h2>
                     <ol>
                        <li>Download the repo</li>
                        <li>Run the following command "sudo python setup.py install" from the root of the folder (This should install the thrift library - this is experimental at the moment)</li>
                        <li>Try the examples</li>
                     </ol>-->
                     <h3>Get started</h3>
                     <ol>
                        <li>Download the <a href="https://github.com/WPTechInnovation/wpw-sdk-python">repository</a>.</li>
                        <li>Download the latest version of Apache Thrift (currently 0.10.0).</li>
                        <li>Extract the repository and change to the lib/py/ directory.</li>
                        <li>Run the following command: sudo python setup.py install.</li>
                     </ol>
                     <h3>Run the examples</h3>
                     <p>You can try the examples by running the examples in two different console windows. Or, if you're installing on two separate devices, they must be one the same network that allows UDP broadcast traffic. Make sure you're using rhw Online Worldpay (OWP) files rather than the Worldpay Total (WT) ones.</p>
                     <ul>
                        <li>In the first window, run python runConsumerOWP.py</li>
                        <li>In the second window, run python runProducerOWP.py OR python runProducerCallbacksOWP.py</li>
                        <li>The two smart devices should communicate with each other and make a payment</li>
                     </ul>
                     <h3>See the payments</h3>
                     <p>Once the devices have successfully communicated with each other to make a payment, you'll want to check to make sure that your devices are successfully making and receiving payments.</p>
                     <h4>If you used your own test API keys</h4>
                     <ol>
                        <li>Login to <a href="https://online.worldpay.com">Worldpay Online</a>.</li>
                        <li>You'll see your dashboard. Scroll down and you should see the payment within your <strong>Recent Orders</strong>.</li>
                     </ol>
                     <h4>If you've used Worldpay's own test API keys</h4>
                     <ol>
                        <li>Login to <a href="http://online.worldpay.com">Worldpay Online</a>.</li>
                        <li>Got to <strong>Settings > API keys</strong> and get your test keys.</li>
                        <li>Replace the keys in the producer python files.</li>
                        <li>Re-run the examples and you should see the payments coming through on the Worldpay Online payments dashboard.</li>
                     </ol>
                     <h3>Debugging</h3>
                     <p>If you get some odd error messages talking about a 'rpc-agent':
                     <ul>
                        <li>Try typing the following command: 'ps -e | grep rpc' to get the pid(s) of rpc-agents that are running.</li>
                        <li>Then do kill &lt;pid&gt; e.g. kill 13249234 to kill these processes.</li>
                        <li>Try re-running the examples</li>
                     </ul>
                     <p>If you're still having trouble, you can contact us at <a href="mailto:innovation@worldpay.com">Innovation@Worldpay.com</a> or reach out to us on our <a href="iotpay.slack.com">Slack channel</a>. Alternatively, you can <a href="https://github.com/WPTechInnovation/worldpay-within-sdk/issues">raise an issue in GitHub</a>.</li>
                     </ul>
                     <h3>So what's happening?</h3>
                     <div style="text-align: center;">
                        <figure>
                           <img style="padding-top: 25px;" src="images/architecture/serviceOverview.png" alt="The Worldpay Within puzzle piece"/>
                           <figcaption>The Worldpay Within Flows sequence diagram</figcaption>
                        </figure>
                     </div>
                     <p>You can see there are four phases; <strong>Discover</strong>, <strong>Negotiation</strong>, <strong>Payment</strong>, and  <strong>Service delivery</strong>. For more information, see <a href="http://www.worldpaywithin.com">Worldpay Within</a>.</p>
                     <h3>What IoT devices can I run this on?</h3>
                     <p>Hopefully any. We've only tested this on RPi - Raspberry Pis at the moment, but we welcome experiments on all other kinds of devices! Note that they will need to be on the same network - and that network should allow for UDP broadcast traffic. Most mobile hotspots allow this; a lot of corporate networks do not...</p>
                     <h3>Want to contribute?</h3>
                     <p>If you want to contribute, clone the repository and create a branch. Once you've made your changes, create a pull request. We'll review your code, and if accepted it will be merged into the code base. It's worth checkout out the <a href="internal-structure.html">Internal Structure of Worldpay Within</a> and <a href="sample-service-messaging.html">Sample Service Messaging</a> pages if you want to learn more about how Worldpay Within works.</p> 
                     <p>You can also <a href="https://github.com/WPTechInnovation/worldpay-within-sdk/issues">raise an issue in GitHub</a>, or contact us directly at <a href="mailto:innovation@worldpay.com">Innovation@Worldpay.com</a>. You can also reach out to us on our <a href="iotpay.slack.com">Slack channel</a>.</p>
                     <!--<p><a href="sample-service-messaging.html">Please note the low level service messaging json spec can be found here</a></p>-->
                     <!-- Insert page content above -->
                  </div>
               </div>
            </div>
         </div>
      </div>
      <script src="js/vendor/jquery.js"></script>
      <script src="js/vendor/what-input.js"></script>
      <script src="js/vendor/foundation.js"></script>
      <script src="js/app.js"></script>
      <script>
         (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
         (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
         m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
         })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
         
         ga('create', 'UA-91392512-1', 'auto');
         ga('send', 'pageview');
         
      </script>
   </body>
</html>